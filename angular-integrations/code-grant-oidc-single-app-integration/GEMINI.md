# Gemini CLI Guidelines for Angular Projects

This document provides guidelines for the Gemini CLI to effectively work within this Angular project.

## 1. Project Structure

This is an Angular workspace containing multiple projects:
- `projects/private-app`: The main private application.
  - `src/app/rest-client`: Contains the **auto-generated** OpenAPI client code. **Do not modify this manually.**
- `projects/public-app`: A public-facing application.
- `projects/shared-components`: A library of reusable components used by the apps.

## 2. Key Workflows & Commands

Refer to `package.json` for all available scripts.

### Build Everything
To build the REST client, shared components, and both applications:
```bash
npm run build:apps
```

### OpenAPI Client Generation
The `private-app` relies on a generated API client. If the backend API spec changes, regenerate the client:
```bash
npm run build:rest-client
```
*Note: The OpenAPI spec file is expected at `../../spring-security-code-grant-oidc-single-app-integration/src/main/resources/openapi/open-api.yaml`.*

### Shared Components
When working on `shared-components`:
- **Build**: `npm run build:components`
- **Watch**: `npm run watch:components` (useful during development)

### Standard Angular Commands
- **Serve private-app**: `ng serve private-app`
- **Test private-app**: `ng test private-app`
- **Lint private-app**: `ng lint private-app`

## 3. Code Modifications and Conventions

- **Respect Angular CLI Best Practices**: Adhere to standard conventions (modules, components, services).
- **Auto-generated Code**: **NEVER** modify files in `projects/private-app/src/app/rest-client/`. These are generated by `npm run build:rest-client`.
- **Shared Components**: When modifying `shared-components`, ensure you rebuild them (`npm run build:components`) so the apps pick up the changes, or use the watch script.
- **Styling**: Use `.scss`.
- **Testing**: Maintain `.spec.ts` files.

## 4. Troubleshooting

- **Missing Types/API methods**: Run `npm run build:rest-client` to ensure the frontend client matches the backend spec.
- **Component changes not reflected**: Ensure `shared-components` was rebuilt.
- **Build errors**: Check `ng lint` and try a clean build.